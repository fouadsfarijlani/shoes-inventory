{"ast":null,"code":"export const calculateDeliveries = (qty, scheduledDeliveries) => {\n  let deliveryQty = qty;\n  let newSchedule = [];\n\n  for (const item of scheduledDeliveries) {\n    if (item.quantity === 0) continue;\n\n    if (deliveryQty >= item.quantity) {\n      newSchedule.push({\n        date: item.date,\n        quantity: item.quantity\n      });\n      deliveryQty = deliveryQty - item.quantity;\n    }\n\n    if (deliveryQty <= item.quantity && deliveryQty !== 0) {\n      newSchedule.push({\n        date: item.date,\n        quantity: deliveryQty\n      });\n      break;\n    }\n\n    if (deliveryQty === 0) break;\n  }\n\n  return newSchedule;\n};","map":{"version":3,"names":["calculateDeliveries","qty","scheduledDeliveries","deliveryQty","newSchedule","item","quantity","push","date"],"sources":["/Users/fouad/Documents/competa_exercise/competa-code-assignment/shoes-inventory/src/utils/calculateDeliveries.ts"],"sourcesContent":["import { IInventory } from \"../Components/Segment/types\";\n\n\n\nexport const calculateDeliveries = (qty: number, scheduledDeliveries: IInventory[]): IInventory[] => {\n    let deliveryQty = qty;\n    let newSchedule: IInventory[] = [];\n\n    for (const item of scheduledDeliveries) {\n      if (item.quantity === 0) continue;\n      if (deliveryQty >= item.quantity) {\n        newSchedule.push({date: item.date, quantity: item.quantity});\n        deliveryQty = deliveryQty - item.quantity;\n      }\n      if (deliveryQty <= item.quantity && deliveryQty !== 0) {\n        newSchedule.push({date: item.date, quantity: deliveryQty});\n        break;\n      }\n      if (deliveryQty === 0) break;\n    }\n    return newSchedule;\n  }"],"mappings":"AAIA,OAAO,MAAMA,mBAAmB,GAAG,CAACC,GAAD,EAAcC,mBAAd,KAAkE;EACjG,IAAIC,WAAW,GAAGF,GAAlB;EACA,IAAIG,WAAyB,GAAG,EAAhC;;EAEA,KAAK,MAAMC,IAAX,IAAmBH,mBAAnB,EAAwC;IACtC,IAAIG,IAAI,CAACC,QAAL,KAAkB,CAAtB,EAAyB;;IACzB,IAAIH,WAAW,IAAIE,IAAI,CAACC,QAAxB,EAAkC;MAChCF,WAAW,CAACG,IAAZ,CAAiB;QAACC,IAAI,EAAEH,IAAI,CAACG,IAAZ;QAAkBF,QAAQ,EAAED,IAAI,CAACC;MAAjC,CAAjB;MACAH,WAAW,GAAGA,WAAW,GAAGE,IAAI,CAACC,QAAjC;IACD;;IACD,IAAIH,WAAW,IAAIE,IAAI,CAACC,QAApB,IAAgCH,WAAW,KAAK,CAApD,EAAuD;MACrDC,WAAW,CAACG,IAAZ,CAAiB;QAACC,IAAI,EAAEH,IAAI,CAACG,IAAZ;QAAkBF,QAAQ,EAAEH;MAA5B,CAAjB;MACA;IACD;;IACD,IAAIA,WAAW,KAAK,CAApB,EAAuB;EACxB;;EACD,OAAOC,WAAP;AACD,CAjBI"},"metadata":{},"sourceType":"module"}